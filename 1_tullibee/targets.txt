Class, Method, Line, LineContent, Observation, Diagnosis, Action

com.ib.client.EReader, run, 97, "if (stopRequested) {",
every call to run() results in NPE on variable of type DataInputStream,  Unable to create (non-null) DataInputStream, added new object

      public static DataInputStream disOne() {
        return new DataInputStream(new StringBufferInputStream("123"));
      }

com.ib.client.EWrapper, stopRequested, 72, "stopRequested()",
every call to run() results in NPE on variable of type EWrapper, Unable to create (non-null) EWrapper, added new object


      public static EWrapper eWrapperOne() { return new ...}

com.ib.client.EReader, readStr, 902, "if (c == 0) {", every call to
readStr(DataInputStream) raises java.io.Exception captured at EReader.run:102, DataInputStream object with invalid data, modified string 

      public static DataInputStream disOne() {
        return new DataInputStream(new StringBufferInputStream("123\0"));
      }


com.ib.client.EReader, processMsg, 114, "case TICK_PRICE: {", every
call to processMsg(123) raises com.ib.client.EException captured at EReader.run:102, DataInputStream with invalid data, modified string

      public static DataInputStream disOne() {
        return new DataInputStream(new StringBufferInputStream("1\0"));
      }

com.ib.client.EReader, processMsg, 123, "int canAutoExecute = 0;",
every call to processMsg(1) raises java.io.Exception captured at EReader.run:102, DataInputStream with invalid data, modified string

                      
      public static DataInputStream disOne() {
        // Expressing these \0s in a single string does not work. It thinks "\03" is the string "\3" or something.
        String all = "1" + "\0" + "2" + "\0" + "3" + "\0" + "4" + "\0" + "2.97" + "\0";
        return new DataInputStream(new StringBufferInputStream(all));
      }
com.ib.client.EWrapperMsgGenerator,openOrder,139,"msg += " comboLegsDescrip=" + contract.m_comboLegsDescrip;"," every call generated by randoop to openOrder raises NullPointer exception because it can't create a OrderState instance for outside the package, randoop doesn't input a DataInputStream with the data necessary to populate the m_secType and m_comboLegsDescrip fields and EWrapper doesn't call the EWrapperMsgGenerator.openOrder code",Unable to create (non-null) OrderState, DataInputStream with invalid Data and EWrapper doesn't call an internal Method,"modified input string using the following method public static DataInputStream disOpenOrderBag() {
        String action = "5"; // open order action
        String version = "14";

        String all = action + "\0" 
			+ version + "\0" 
			+ "3" + "\0" 
			+ "4" + "\0" 
			+ "BAG" + "\0" ; // pass the m_secType as BAG

		// fill the rest of parameters needed for this version
		// inclunding the m_comboLegsDescrip parameter
		for (int i = 0; i < 61; i++) {
			all += ("1" + "\0");
		}
		// add end of message action number
		all += "-1" + "\0";

        return new DataInputStream(new StringBufferInputStream(all));        
    }
and also added a call to EWrapperMsgGenerator.openOrder at a EWrapper instance
public static EWrapper eWrapperTwo() {

        return new com.ib.client.EWrapper() {
		...

	   	@Override
	   	public void openOrder(int orderId, Contract contract, Order order, OrderState orderState) {
				EWrapperMsgGenerator.openOrder(orderId, contract, order, orderState);
		   	}
		..."
com.ib.client.EWrapperMsgGenerator,openOrder,149,"	msg += " underComp.conId =" + underComp.m_conId + " underComp.delta =" + underComp.m_delta + " underComp.price =" + underComp.m_price ;","every call generated by randoop to openOrder raises NullPointer exception because it can't create a OrderState instance for outside the package, randoop doesn't input a DataInputStream with the data necessary to populate the m_underComp field and EWrapper doesn't call the EWrapperMsgGenerator.openOrder code",Unable to create (non-null) OrderState, DataInputStream with invalid Data and EWrapper doesn't call an internal Method,"modified input string using the following method
	public static DataInputStream disOpenOrderUnderComp() {
        String action = "5"; // open order action
        String version = "20"; // version just enough to fill the UnderComp field

        String all = action + "\0" 
			+ version + "\0";

		// fill the parameters needed for this version
		// including the UnderComp values
		for (int i = 0; i < 84; i++) {
			all += ("1" + "\0");
		}
		// add end of message action number
		all += "-1" + "\0";

        return new DataInputStream(new StringBufferInputStream(all));        
    }
and also added a call to EWrapperMsgGenerator.openOrder at a EWrapper instance
public static EWrapper eWrapperTwo() {

        return new com.ib.client.EWrapper() {
		...

	   	@Override
	   	public void openOrder(int orderId, Contract contract, Order order, OrderState orderState) {
				EWrapperMsgGenerator.openOrder(orderId, contract, order, orderState);
		   	}
		..."
com.ib.client.EWrapperMsgGenerator,openOrder,165,"msg += param.m_tag + "=" + param.m_value;","every call generated by randoop to openOrder raises NullPointer exception because it can't create a OrderState instance for outside the package, randoop doesn't input a DataInputStream with the data necessary to populate the m_algoStrategy and m_algoParams fields and EWrapper doesn't call the EWrapperMsgGenerator.openOrder code",Unable to create (non-null) OrderState, DataInputStream with invalid Data and EWrapper doesn't call an internal Method,"modified input string using the following method
	public static DataInputStream disOpenOrderAlgo() {
        String action = "5"; // open order action
        String version = "21"; // version enogh to fill the algo fields

        String all = action + "\0" 
			+ version + "\0";

		// fill the needed parameters before m_algoStrategy
		for (int i = 0; i < 74; i++) {
			all += ("1" + "\0");
		}

		// fill the parameters in a way that covers all lines at m_algoStrategy branch
		all += "algo_strategy" + "\0"
			+ "2" + "\0"
			+ "tag1" + "\0"
			+ "value1" + "\0"
			+ "tag2" + "\0"
			+ "value2" + "\0";

		// fill the rest of the needed parameters for this version
		for (int i = 0; i < 10; i++) {
			all += ("1" + "\0");
		}
		// add end of message action number
		all += "-1" + "\0";

        return new DataInputStream(new StringBufferInputStream(all));        
    }
and also added a call to EWrapperMsgGenerator.openOrder at a EWrapper instance
public static EWrapper eWrapperTwo() {

        return new com.ib.client.EWrapper() {
		...

	   	@Override
	   	public void openOrder(int orderId, Contract contract, Order order, OrderState orderState) {
				EWrapperMsgGenerator.openOrder(orderId, contract, order, orderState);
		   	}
		..."